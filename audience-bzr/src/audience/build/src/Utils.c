/* Utils.c generated by valac 0.28.0, the Vala compiler
 * generated from Utils.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/*-
 * Copyright (c) 2013-2014 Audience Developers (http://launchpad.net/pantheon-chat)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.

 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.

 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 * Authored by: Tom Beckmann <tomjonabc@gmail.com>
 */

#include <glib.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>
#include <libnotify/notify.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <granite.h>


#define TYPE_GNOME_MEDIA_KEYS (gnome_media_keys_get_type ())
#define GNOME_MEDIA_KEYS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_GNOME_MEDIA_KEYS, GnomeMediaKeys))
#define IS_GNOME_MEDIA_KEYS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_GNOME_MEDIA_KEYS))
#define GNOME_MEDIA_KEYS_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), TYPE_GNOME_MEDIA_KEYS, GnomeMediaKeysIface))

typedef struct _GnomeMediaKeys GnomeMediaKeys;
typedef struct _GnomeMediaKeysIface GnomeMediaKeysIface;

#define TYPE_GNOME_MEDIA_KEYS_PROXY (gnome_media_keys_proxy_get_type ())
typedef GDBusProxy GnomeMediaKeysProxy;
typedef GDBusProxyClass GnomeMediaKeysProxyClass;
#define _g_free0(var) (var = (g_free (var), NULL))

#define TYPE_GNOME_SESSION_MANAGER (gnome_session_manager_get_type ())
#define GNOME_SESSION_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_GNOME_SESSION_MANAGER, GnomeSessionManager))
#define IS_GNOME_SESSION_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_GNOME_SESSION_MANAGER))
#define GNOME_SESSION_MANAGER_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), TYPE_GNOME_SESSION_MANAGER, GnomeSessionManagerIface))

typedef struct _GnomeSessionManager GnomeSessionManager;
typedef struct _GnomeSessionManagerIface GnomeSessionManagerIface;

#define TYPE_GNOME_SESSION_MANAGER_PROXY (gnome_session_manager_proxy_get_type ())
typedef GDBusProxy GnomeSessionManagerProxy;
typedef GDBusProxyClass GnomeSessionManagerProxyClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))

#define AUDIENCE_TYPE_DISK_MANAGER (audience_disk_manager_get_type ())
#define AUDIENCE_DISK_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), AUDIENCE_TYPE_DISK_MANAGER, AudienceDiskManager))
#define AUDIENCE_DISK_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), AUDIENCE_TYPE_DISK_MANAGER, AudienceDiskManagerClass))
#define AUDIENCE_IS_DISK_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), AUDIENCE_TYPE_DISK_MANAGER))
#define AUDIENCE_IS_DISK_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), AUDIENCE_TYPE_DISK_MANAGER))
#define AUDIENCE_DISK_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), AUDIENCE_TYPE_DISK_MANAGER, AudienceDiskManagerClass))

typedef struct _AudienceDiskManager AudienceDiskManager;
typedef struct _AudienceDiskManagerClass AudienceDiskManagerClass;
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))

#define AUDIENCE_TYPE_APP (audience_app_get_type ())
#define AUDIENCE_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), AUDIENCE_TYPE_APP, AudienceApp))
#define AUDIENCE_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), AUDIENCE_TYPE_APP, AudienceAppClass))
#define AUDIENCE_IS_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), AUDIENCE_TYPE_APP))
#define AUDIENCE_IS_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), AUDIENCE_TYPE_APP))
#define AUDIENCE_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), AUDIENCE_TYPE_APP, AudienceAppClass))

typedef struct _AudienceApp AudienceApp;
typedef struct _AudienceAppClass AudienceAppClass;

struct _GnomeMediaKeysIface {
	GTypeInterface parent_iface;
	void (*GrabMediaPlayerKeys) (GnomeMediaKeys* self, const gchar* application, guint32 time, GError** error);
	void (*ReleaseMediaPlayerKeys) (GnomeMediaKeys* self, const gchar* application, GError** error);
};

struct _GnomeSessionManagerIface {
	GTypeInterface parent_iface;
	gboolean (*isSessionRunning) (GnomeSessionManager* self, GError** error);
	guint32 (*Inhibit) (GnomeSessionManager* self, const gchar* app_id, guint32 toplevel_xid, const gchar* reason, guint32 flags, GError** error);
	void (*Uninhibit) (GnomeSessionManager* self, guint32 inhibit_cookie, GError** error);
};

typedef void (*AudienceFuncOverDir) (GFile* file_under_dir, void* user_data);

extern NotifyNotification* audience_notification;
NotifyNotification* audience_notification = NULL;

GType gnome_media_keys_proxy_get_type (void) G_GNUC_CONST;
guint gnome_media_keys_register_object (void* object, GDBusConnection* connection, const gchar* path, GError** error);
GType gnome_media_keys_get_type (void) G_GNUC_CONST;
void gnome_media_keys_GrabMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, guint32 time, GError** error);
void gnome_media_keys_ReleaseMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, GError** error);
static void g_cclosure_user_marshal_VOID__STRING_STRING (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void gnome_media_keys_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters);
static void _dbus_handle_gnome_media_keys_media_player_key_pressed (GnomeMediaKeys* self, GVariant* parameters);
static void gnome_media_keys_proxy_GrabMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, guint32 time, GError** error);
static void gnome_media_keys_proxy_ReleaseMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, GError** error);
static void gnome_media_keys_proxy_gnome_media_keys_interface_init (GnomeMediaKeysIface* iface);
static void _dbus_gnome_media_keys_GrabMediaPlayerKeys (GnomeMediaKeys* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void _dbus_gnome_media_keys_ReleaseMediaPlayerKeys (GnomeMediaKeys* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void gnome_media_keys_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data);
static GVariant* gnome_media_keys_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data);
static gboolean gnome_media_keys_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data);
static void _dbus_gnome_media_keys_media_player_key_pressed (GObject* _sender, const gchar* application, const gchar* key, gpointer* _data);
static void _gnome_media_keys_unregister_object (gpointer user_data);
GType gnome_session_manager_proxy_get_type (void) G_GNUC_CONST;
guint gnome_session_manager_register_object (void* object, GDBusConnection* connection, const gchar* path, GError** error);
GType gnome_session_manager_get_type (void) G_GNUC_CONST;
gboolean gnome_session_manager_isSessionRunning (GnomeSessionManager* self, GError** error);
guint32 gnome_session_manager_Inhibit (GnomeSessionManager* self, const gchar* app_id, guint32 toplevel_xid, const gchar* reason, guint32 flags, GError** error);
void gnome_session_manager_Uninhibit (GnomeSessionManager* self, guint32 inhibit_cookie, GError** error);
static void gnome_session_manager_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters);
static gboolean gnome_session_manager_proxy_isSessionRunning (GnomeSessionManager* self, GError** error);
static guint32 gnome_session_manager_proxy_Inhibit (GnomeSessionManager* self, const gchar* app_id, guint32 toplevel_xid, const gchar* reason, guint32 flags, GError** error);
static void gnome_session_manager_proxy_Uninhibit (GnomeSessionManager* self, guint32 inhibit_cookie, GError** error);
static void gnome_session_manager_proxy_gnome_session_manager_interface_init (GnomeSessionManagerIface* iface);
static void _dbus_gnome_session_manager_isSessionRunning (GnomeSessionManager* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void _dbus_gnome_session_manager_Inhibit (GnomeSessionManager* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void _dbus_gnome_session_manager_Uninhibit (GnomeSessionManager* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void gnome_session_manager_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data);
static GVariant* gnome_session_manager_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data);
static gboolean gnome_session_manager_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data);
static void _gnome_session_manager_unregister_object (gpointer user_data);
void audience_recurse_over_dir (GFile* file_to_process, AudienceFuncOverDir func, void* func_target);
gchar* audience_get_title (const gchar* filename);
gchar* audience_get_basename (const gchar* filename);
gchar* audience_get_extension (const gchar* filename);
gchar* audience_seconds_to_time (gint seconds);
gchar* audience_normalize_time (gint time);
gboolean audience_has_dvd (void);
GType audience_disk_manager_get_type (void) G_GNUC_CONST;
AudienceDiskManager* audience_disk_manager_get_default (void);
GList* audience_disk_manager_get_volumes (AudienceDiskManager* self);
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
gboolean audience_file_exists (const gchar* uri);
void audience_show_notification (const gchar* primary_text, const gchar* secondary_text, GdkPixbuf* pixbuf, gint urgency);
GType audience_app_get_type (void) G_GNUC_CONST;
AudienceApp* audience_app_get_instance (void);

static const GDBusArgInfo _gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_application = {-1, "application", "s"};
static const GDBusArgInfo _gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_time = {-1, "time", "u"};
static const GDBusArgInfo * const _gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_in[] = {&_gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_application, &_gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_time, NULL};
static const GDBusArgInfo * const _gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_out[] = {NULL};
static const GDBusMethodInfo _gnome_media_keys_dbus_method_info_GrabMediaPlayerKeys = {-1, "GrabMediaPlayerKeys", (GDBusArgInfo **) (&_gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_in), (GDBusArgInfo **) (&_gnome_media_keys_dbus_arg_info_GrabMediaPlayerKeys_out)};
static const GDBusArgInfo _gnome_media_keys_dbus_arg_info_ReleaseMediaPlayerKeys_application = {-1, "application", "s"};
static const GDBusArgInfo * const _gnome_media_keys_dbus_arg_info_ReleaseMediaPlayerKeys_in[] = {&_gnome_media_keys_dbus_arg_info_ReleaseMediaPlayerKeys_application, NULL};
static const GDBusArgInfo * const _gnome_media_keys_dbus_arg_info_ReleaseMediaPlayerKeys_out[] = {NULL};
static const GDBusMethodInfo _gnome_media_keys_dbus_method_info_ReleaseMediaPlayerKeys = {-1, "ReleaseMediaPlayerKeys", (GDBusArgInfo **) (&_gnome_media_keys_dbus_arg_info_ReleaseMediaPlayerKeys_in), (GDBusArgInfo **) (&_gnome_media_keys_dbus_arg_info_ReleaseMediaPlayerKeys_out)};
static const GDBusMethodInfo * const _gnome_media_keys_dbus_method_info[] = {&_gnome_media_keys_dbus_method_info_GrabMediaPlayerKeys, &_gnome_media_keys_dbus_method_info_ReleaseMediaPlayerKeys, NULL};
static const GDBusArgInfo _gnome_media_keys_dbus_arg_info_media_player_key_pressed_application = {-1, "application", "s"};
static const GDBusArgInfo _gnome_media_keys_dbus_arg_info_media_player_key_pressed_key = {-1, "key", "s"};
static const GDBusArgInfo * const _gnome_media_keys_dbus_arg_info_media_player_key_pressed[] = {&_gnome_media_keys_dbus_arg_info_media_player_key_pressed_application, &_gnome_media_keys_dbus_arg_info_media_player_key_pressed_key, NULL};
static const GDBusSignalInfo _gnome_media_keys_dbus_signal_info_media_player_key_pressed = {-1, "MediaPlayerKeyPressed", (GDBusArgInfo **) (&_gnome_media_keys_dbus_arg_info_media_player_key_pressed)};
static const GDBusSignalInfo * const _gnome_media_keys_dbus_signal_info[] = {&_gnome_media_keys_dbus_signal_info_media_player_key_pressed, NULL};
static const GDBusPropertyInfo * const _gnome_media_keys_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _gnome_media_keys_dbus_interface_info = {-1, "org.gnome.SettingsDaemon.MediaKeys", (GDBusMethodInfo **) (&_gnome_media_keys_dbus_method_info), (GDBusSignalInfo **) (&_gnome_media_keys_dbus_signal_info), (GDBusPropertyInfo **) (&_gnome_media_keys_dbus_property_info)};
static const GDBusInterfaceVTable _gnome_media_keys_dbus_interface_vtable = {gnome_media_keys_dbus_interface_method_call, gnome_media_keys_dbus_interface_get_property, gnome_media_keys_dbus_interface_set_property};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_isSessionRunning_result = {-1, "result", "b"};
static const GDBusArgInfo * const _gnome_session_manager_dbus_arg_info_isSessionRunning_in[] = {NULL};
static const GDBusArgInfo * const _gnome_session_manager_dbus_arg_info_isSessionRunning_out[] = {&_gnome_session_manager_dbus_arg_info_isSessionRunning_result, NULL};
static const GDBusMethodInfo _gnome_session_manager_dbus_method_info_isSessionRunning = {-1, "isSessionRunning", (GDBusArgInfo **) (&_gnome_session_manager_dbus_arg_info_isSessionRunning_in), (GDBusArgInfo **) (&_gnome_session_manager_dbus_arg_info_isSessionRunning_out)};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_Inhibit_app_id = {-1, "app_id", "s"};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_Inhibit_toplevel_xid = {-1, "toplevel_xid", "u"};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_Inhibit_reason = {-1, "reason", "s"};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_Inhibit_flags = {-1, "flags", "u"};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_Inhibit_result = {-1, "result", "u"};
static const GDBusArgInfo * const _gnome_session_manager_dbus_arg_info_Inhibit_in[] = {&_gnome_session_manager_dbus_arg_info_Inhibit_app_id, &_gnome_session_manager_dbus_arg_info_Inhibit_toplevel_xid, &_gnome_session_manager_dbus_arg_info_Inhibit_reason, &_gnome_session_manager_dbus_arg_info_Inhibit_flags, NULL};
static const GDBusArgInfo * const _gnome_session_manager_dbus_arg_info_Inhibit_out[] = {&_gnome_session_manager_dbus_arg_info_Inhibit_result, NULL};
static const GDBusMethodInfo _gnome_session_manager_dbus_method_info_Inhibit = {-1, "Inhibit", (GDBusArgInfo **) (&_gnome_session_manager_dbus_arg_info_Inhibit_in), (GDBusArgInfo **) (&_gnome_session_manager_dbus_arg_info_Inhibit_out)};
static const GDBusArgInfo _gnome_session_manager_dbus_arg_info_Uninhibit_inhibit_cookie = {-1, "inhibit_cookie", "u"};
static const GDBusArgInfo * const _gnome_session_manager_dbus_arg_info_Uninhibit_in[] = {&_gnome_session_manager_dbus_arg_info_Uninhibit_inhibit_cookie, NULL};
static const GDBusArgInfo * const _gnome_session_manager_dbus_arg_info_Uninhibit_out[] = {NULL};
static const GDBusMethodInfo _gnome_session_manager_dbus_method_info_Uninhibit = {-1, "Uninhibit", (GDBusArgInfo **) (&_gnome_session_manager_dbus_arg_info_Uninhibit_in), (GDBusArgInfo **) (&_gnome_session_manager_dbus_arg_info_Uninhibit_out)};
static const GDBusMethodInfo * const _gnome_session_manager_dbus_method_info[] = {&_gnome_session_manager_dbus_method_info_isSessionRunning, &_gnome_session_manager_dbus_method_info_Inhibit, &_gnome_session_manager_dbus_method_info_Uninhibit, NULL};
static const GDBusSignalInfo * const _gnome_session_manager_dbus_signal_info[] = {NULL};
static const GDBusPropertyInfo * const _gnome_session_manager_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _gnome_session_manager_dbus_interface_info = {-1, "org.gnome.SessionManager", (GDBusMethodInfo **) (&_gnome_session_manager_dbus_method_info), (GDBusSignalInfo **) (&_gnome_session_manager_dbus_signal_info), (GDBusPropertyInfo **) (&_gnome_session_manager_dbus_property_info)};
static const GDBusInterfaceVTable _gnome_session_manager_dbus_interface_vtable = {gnome_session_manager_dbus_interface_method_call, gnome_session_manager_dbus_interface_get_property, gnome_session_manager_dbus_interface_set_property};

void gnome_media_keys_GrabMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, guint32 time, GError** error) {
#line 23 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (self != NULL);
#line 23 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	GNOME_MEDIA_KEYS_GET_INTERFACE (self)->GrabMediaPlayerKeys (self, application, time, error);
#line 200 "Utils.c"
}


void gnome_media_keys_ReleaseMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, GError** error) {
#line 24 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (self != NULL);
#line 24 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	GNOME_MEDIA_KEYS_GET_INTERFACE (self)->ReleaseMediaPlayerKeys (self, application, error);
#line 209 "Utils.c"
}


static void g_cclosure_user_marshal_VOID__STRING_STRING (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__STRING_STRING) (gpointer data1, const char* arg_1, const char* arg_2, gpointer data2);
	register GMarshalFunc_VOID__STRING_STRING callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (n_param_values == 3);
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		data1 = closure->data;
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		data2 = param_values->data[0].v_pointer;
#line 228 "Utils.c"
	} else {
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		data1 = param_values->data[0].v_pointer;
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		data2 = closure->data;
#line 234 "Utils.c"
	}
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	callback = (GMarshalFunc_VOID__STRING_STRING) (marshal_data ? marshal_data : cc->callback);
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	callback (data1, g_value_get_string (param_values + 1), g_value_get_string (param_values + 2), data2);
#line 240 "Utils.c"
}


static void gnome_media_keys_base_init (GnomeMediaKeysIface * iface) {
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	static gboolean initialized = FALSE;
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (!initialized) {
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		initialized = TRUE;
#line 22 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		g_signal_new ("media_player_key_pressed", TYPE_GNOME_MEDIA_KEYS, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__STRING_STRING, G_TYPE_NONE, 2, G_TYPE_STRING, G_TYPE_STRING);
#line 253 "Utils.c"
	}
}


GType gnome_media_keys_get_type (void) {
	static volatile gsize gnome_media_keys_type_id__volatile = 0;
	if (g_once_init_enter (&gnome_media_keys_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GnomeMediaKeysIface), (GBaseInitFunc) gnome_media_keys_base_init, (GBaseFinalizeFunc) NULL, (GClassInitFunc) NULL, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
		GType gnome_media_keys_type_id;
		gnome_media_keys_type_id = g_type_register_static (G_TYPE_INTERFACE, "GnomeMediaKeys", &g_define_type_info, 0);
		g_type_interface_add_prerequisite (gnome_media_keys_type_id, G_TYPE_OBJECT);
		g_type_set_qdata (gnome_media_keys_type_id, g_quark_from_static_string ("vala-dbus-proxy-type"), (void*) gnome_media_keys_proxy_get_type);
		g_type_set_qdata (gnome_media_keys_type_id, g_quark_from_static_string ("vala-dbus-interface-name"), "org.gnome.SettingsDaemon.MediaKeys");
		g_type_set_qdata (gnome_media_keys_type_id, g_quark_from_static_string ("vala-dbus-interface-info"), (void*) (&_gnome_media_keys_dbus_interface_info));
		g_type_set_qdata (gnome_media_keys_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) gnome_media_keys_register_object);
		g_once_init_leave (&gnome_media_keys_type_id__volatile, gnome_media_keys_type_id);
	}
	return gnome_media_keys_type_id__volatile;
}


G_DEFINE_TYPE_EXTENDED (GnomeMediaKeysProxy, gnome_media_keys_proxy, G_TYPE_DBUS_PROXY, 0, G_IMPLEMENT_INTERFACE (TYPE_GNOME_MEDIA_KEYS, gnome_media_keys_proxy_gnome_media_keys_interface_init) )
static void gnome_media_keys_proxy_class_init (GnomeMediaKeysProxyClass* klass) {
	G_DBUS_PROXY_CLASS (klass)->g_signal = gnome_media_keys_proxy_g_signal;
}


static void _dbus_handle_gnome_media_keys_media_player_key_pressed (GnomeMediaKeys* self, GVariant* parameters) {
	GVariantIter _arguments_iter;
	gchar* application = NULL;
	GVariant* _tmp0_;
	gchar* key = NULL;
	GVariant* _tmp1_;
	g_variant_iter_init (&_arguments_iter, parameters);
	_tmp0_ = g_variant_iter_next_value (&_arguments_iter);
	application = g_variant_dup_string (_tmp0_, NULL);
	g_variant_unref (_tmp0_);
	_tmp1_ = g_variant_iter_next_value (&_arguments_iter);
	key = g_variant_dup_string (_tmp1_, NULL);
	g_variant_unref (_tmp1_);
	g_signal_emit_by_name (self, "media-player-key-pressed", application, key);
	_g_free0 (application);
	_g_free0 (key);
}


static void gnome_media_keys_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters) {
	if (strcmp (signal_name, "MediaPlayerKeyPressed") == 0) {
		_dbus_handle_gnome_media_keys_media_player_key_pressed ((GnomeMediaKeys*) proxy, parameters);
	}
}


static void gnome_media_keys_proxy_init (GnomeMediaKeysProxy* self) {
}


static void gnome_media_keys_proxy_GrabMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, guint32 time, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GDBusMessage *_reply_message;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.gnome.SettingsDaemon.MediaKeys", "GrabMediaPlayerKeys");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (application));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (time));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return;
	}
	g_object_unref (_reply_message);
}


static void gnome_media_keys_proxy_ReleaseMediaPlayerKeys (GnomeMediaKeys* self, const gchar* application, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GDBusMessage *_reply_message;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.gnome.SettingsDaemon.MediaKeys", "ReleaseMediaPlayerKeys");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (application));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return;
	}
	g_object_unref (_reply_message);
}


static void gnome_media_keys_proxy_gnome_media_keys_interface_init (GnomeMediaKeysIface* iface) {
	iface->GrabMediaPlayerKeys = gnome_media_keys_proxy_GrabMediaPlayerKeys;
	iface->ReleaseMediaPlayerKeys = gnome_media_keys_proxy_ReleaseMediaPlayerKeys;
}


static void _dbus_gnome_media_keys_GrabMediaPlayerKeys (GnomeMediaKeys* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* application = NULL;
	GVariant* _tmp2_;
	guint32 time = 0U;
	GVariant* _tmp3_;
	GDBusMessage* _reply_message;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp2_ = g_variant_iter_next_value (&_arguments_iter);
	application = g_variant_dup_string (_tmp2_, NULL);
	g_variant_unref (_tmp2_);
	_tmp3_ = g_variant_iter_next_value (&_arguments_iter);
	time = g_variant_get_uint32 (_tmp3_);
	g_variant_unref (_tmp3_);
	gnome_media_keys_GrabMediaPlayerKeys (self, application, time, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	_g_free0 (application);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
}


static void _dbus_gnome_media_keys_ReleaseMediaPlayerKeys (GnomeMediaKeys* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* application = NULL;
	GVariant* _tmp4_;
	GDBusMessage* _reply_message;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp4_ = g_variant_iter_next_value (&_arguments_iter);
	application = g_variant_dup_string (_tmp4_, NULL);
	g_variant_unref (_tmp4_);
	gnome_media_keys_ReleaseMediaPlayerKeys (self, application, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	_g_free0 (application);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
}


static void gnome_media_keys_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (method_name, "GrabMediaPlayerKeys") == 0) {
		_dbus_gnome_media_keys_GrabMediaPlayerKeys (object, parameters, invocation);
	} else if (strcmp (method_name, "ReleaseMediaPlayerKeys") == 0) {
		_dbus_gnome_media_keys_ReleaseMediaPlayerKeys (object, parameters, invocation);
	} else {
		g_object_unref (invocation);
	}
}


static GVariant* gnome_media_keys_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return NULL;
}


static gboolean gnome_media_keys_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}


static void _dbus_gnome_media_keys_media_player_key_pressed (GObject* _sender, const gchar* application, const gchar* key, gpointer* _data) {
	GDBusConnection * _connection;
	const gchar * _path;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	_connection = _data[1];
	_path = _data[2];
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (application));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (key));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_connection_emit_signal (_connection, NULL, _path, "org.gnome.SettingsDaemon.MediaKeys", "MediaPlayerKeyPressed", _arguments, NULL);
}


guint gnome_media_keys_register_object (gpointer object, GDBusConnection* connection, const gchar* path, GError** error) {
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_gnome_media_keys_dbus_interface_info), &_gnome_media_keys_dbus_interface_vtable, data, _gnome_media_keys_unregister_object, error);
	if (!result) {
		return 0;
	}
	g_signal_connect (object, "media-player-key-pressed", (GCallback) _dbus_gnome_media_keys_media_player_key_pressed, data);
	return result;
}


static void _gnome_media_keys_unregister_object (gpointer user_data) {
	gpointer* data;
	data = user_data;
	g_signal_handlers_disconnect_by_func (data[0], _dbus_gnome_media_keys_media_player_key_pressed, data);
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}


gboolean gnome_session_manager_isSessionRunning (GnomeSessionManager* self, GError** error) {
#line 30 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 30 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return GNOME_SESSION_MANAGER_GET_INTERFACE (self)->isSessionRunning (self, error);
#line 507 "Utils.c"
}


guint32 gnome_session_manager_Inhibit (GnomeSessionManager* self, const gchar* app_id, guint32 toplevel_xid, const gchar* reason, guint32 flags, GError** error) {
#line 31 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_val_if_fail (self != NULL, 0U);
#line 31 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return GNOME_SESSION_MANAGER_GET_INTERFACE (self)->Inhibit (self, app_id, toplevel_xid, reason, flags, error);
#line 516 "Utils.c"
}


void gnome_session_manager_Uninhibit (GnomeSessionManager* self, guint32 inhibit_cookie, GError** error) {
#line 32 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (self != NULL);
#line 32 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	GNOME_SESSION_MANAGER_GET_INTERFACE (self)->Uninhibit (self, inhibit_cookie, error);
#line 525 "Utils.c"
}


static void gnome_session_manager_base_init (GnomeSessionManagerIface * iface) {
#line 29 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	static gboolean initialized = FALSE;
#line 29 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (!initialized) {
#line 29 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		initialized = TRUE;
#line 536 "Utils.c"
	}
}


GType gnome_session_manager_get_type (void) {
	static volatile gsize gnome_session_manager_type_id__volatile = 0;
	if (g_once_init_enter (&gnome_session_manager_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GnomeSessionManagerIface), (GBaseInitFunc) gnome_session_manager_base_init, (GBaseFinalizeFunc) NULL, (GClassInitFunc) NULL, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
		GType gnome_session_manager_type_id;
		gnome_session_manager_type_id = g_type_register_static (G_TYPE_INTERFACE, "GnomeSessionManager", &g_define_type_info, 0);
		g_type_interface_add_prerequisite (gnome_session_manager_type_id, G_TYPE_OBJECT);
		g_type_set_qdata (gnome_session_manager_type_id, g_quark_from_static_string ("vala-dbus-proxy-type"), (void*) gnome_session_manager_proxy_get_type);
		g_type_set_qdata (gnome_session_manager_type_id, g_quark_from_static_string ("vala-dbus-interface-name"), "org.gnome.SessionManager");
		g_type_set_qdata (gnome_session_manager_type_id, g_quark_from_static_string ("vala-dbus-interface-info"), (void*) (&_gnome_session_manager_dbus_interface_info));
		g_type_set_qdata (gnome_session_manager_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) gnome_session_manager_register_object);
		g_once_init_leave (&gnome_session_manager_type_id__volatile, gnome_session_manager_type_id);
	}
	return gnome_session_manager_type_id__volatile;
}


G_DEFINE_TYPE_EXTENDED (GnomeSessionManagerProxy, gnome_session_manager_proxy, G_TYPE_DBUS_PROXY, 0, G_IMPLEMENT_INTERFACE (TYPE_GNOME_SESSION_MANAGER, gnome_session_manager_proxy_gnome_session_manager_interface_init) )
static void gnome_session_manager_proxy_class_init (GnomeSessionManagerProxyClass* klass) {
	G_DBUS_PROXY_CLASS (klass)->g_signal = gnome_session_manager_proxy_g_signal;
}


static void gnome_session_manager_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters) {
}


static void gnome_session_manager_proxy_init (GnomeSessionManagerProxy* self) {
}


static gboolean gnome_session_manager_proxy_isSessionRunning (GnomeSessionManager* self, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GDBusMessage *_reply_message;
	GVariant *_reply;
	GVariantIter _reply_iter;
	gboolean _result;
	GVariant* _tmp5_;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.gnome.SessionManager", "isSessionRunning");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return FALSE;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return FALSE;
	}
	_reply = g_dbus_message_get_body (_reply_message);
	g_variant_iter_init (&_reply_iter, _reply);
	_tmp5_ = g_variant_iter_next_value (&_reply_iter);
	_result = g_variant_get_boolean (_tmp5_);
	g_variant_unref (_tmp5_);
	g_object_unref (_reply_message);
	return _result;
}


static guint32 gnome_session_manager_proxy_Inhibit (GnomeSessionManager* self, const gchar* app_id, guint32 toplevel_xid, const gchar* reason, guint32 flags, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GDBusMessage *_reply_message;
	GVariant *_reply;
	GVariantIter _reply_iter;
	guint32 _result;
	GVariant* _tmp6_;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.gnome.SessionManager", "Inhibit");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (app_id));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (toplevel_xid));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (reason));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (flags));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return 0U;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return 0U;
	}
	_reply = g_dbus_message_get_body (_reply_message);
	g_variant_iter_init (&_reply_iter, _reply);
	_tmp6_ = g_variant_iter_next_value (&_reply_iter);
	_result = g_variant_get_uint32 (_tmp6_);
	g_variant_unref (_tmp6_);
	g_object_unref (_reply_message);
	return _result;
}


static void gnome_session_manager_proxy_Uninhibit (GnomeSessionManager* self, guint32 inhibit_cookie, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GDBusMessage *_reply_message;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.gnome.SessionManager", "Uninhibit");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_uint32 (inhibit_cookie));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return;
	}
	g_object_unref (_reply_message);
}


static void gnome_session_manager_proxy_gnome_session_manager_interface_init (GnomeSessionManagerIface* iface) {
	iface->isSessionRunning = gnome_session_manager_proxy_isSessionRunning;
	iface->Inhibit = gnome_session_manager_proxy_Inhibit;
	iface->Uninhibit = gnome_session_manager_proxy_Uninhibit;
}


static void _dbus_gnome_session_manager_isSessionRunning (GnomeSessionManager* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	GDBusMessage* _reply_message;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	gboolean result;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	result = gnome_session_manager_isSessionRunning (self, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_reply_builder, g_variant_new_boolean (result));
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
}


static void _dbus_gnome_session_manager_Inhibit (GnomeSessionManager* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* app_id = NULL;
	GVariant* _tmp7_;
	guint32 toplevel_xid = 0U;
	GVariant* _tmp8_;
	gchar* reason = NULL;
	GVariant* _tmp9_;
	guint32 flags = 0U;
	GVariant* _tmp10_;
	GDBusMessage* _reply_message;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	guint32 result;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp7_ = g_variant_iter_next_value (&_arguments_iter);
	app_id = g_variant_dup_string (_tmp7_, NULL);
	g_variant_unref (_tmp7_);
	_tmp8_ = g_variant_iter_next_value (&_arguments_iter);
	toplevel_xid = g_variant_get_uint32 (_tmp8_);
	g_variant_unref (_tmp8_);
	_tmp9_ = g_variant_iter_next_value (&_arguments_iter);
	reason = g_variant_dup_string (_tmp9_, NULL);
	g_variant_unref (_tmp9_);
	_tmp10_ = g_variant_iter_next_value (&_arguments_iter);
	flags = g_variant_get_uint32 (_tmp10_);
	g_variant_unref (_tmp10_);
	result = gnome_session_manager_Inhibit (self, app_id, toplevel_xid, reason, flags, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_reply_builder, g_variant_new_uint32 (result));
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	_g_free0 (app_id);
	_g_free0 (reason);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
}


static void _dbus_gnome_session_manager_Uninhibit (GnomeSessionManager* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	guint32 inhibit_cookie = 0U;
	GVariant* _tmp11_;
	GDBusMessage* _reply_message;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp11_ = g_variant_iter_next_value (&_arguments_iter);
	inhibit_cookie = g_variant_get_uint32 (_tmp11_);
	g_variant_unref (_tmp11_);
	gnome_session_manager_Uninhibit (self, inhibit_cookie, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
}


static void gnome_session_manager_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (method_name, "isSessionRunning") == 0) {
		_dbus_gnome_session_manager_isSessionRunning (object, parameters, invocation);
	} else if (strcmp (method_name, "Inhibit") == 0) {
		_dbus_gnome_session_manager_Inhibit (object, parameters, invocation);
	} else if (strcmp (method_name, "Uninhibit") == 0) {
		_dbus_gnome_session_manager_Uninhibit (object, parameters, invocation);
	} else {
		g_object_unref (invocation);
	}
}


static GVariant* gnome_session_manager_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return NULL;
}


static gboolean gnome_session_manager_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}


guint gnome_session_manager_register_object (gpointer object, GDBusConnection* connection, const gchar* path, GError** error) {
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_gnome_session_manager_dbus_interface_info), &_gnome_session_manager_dbus_interface_vtable, data, _gnome_session_manager_unregister_object, error);
	if (!result) {
		return 0;
	}
	return result;
}


static void _gnome_session_manager_unregister_object (gpointer user_data) {
	gpointer* data;
	data = user_data;
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}


void audience_recurse_over_dir (GFile* file_to_process, AudienceFuncOverDir func, void* func_target) {
	GFile* _tmp0_ = NULL;
	GFileType _tmp1_ = 0;
	GError * _inner_error_ = NULL;
#line 37 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (file_to_process != NULL);
#line 38 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = file_to_process;
#line 38 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp1_ = g_file_query_file_type (_tmp0_, 0, NULL);
#line 38 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (_tmp1_ == G_FILE_TYPE_DIRECTORY) {
#line 842 "Utils.c"
		{
			GFileEnumerator* files = NULL;
			GFile* _tmp2_ = NULL;
			GFileEnumerator* _tmp3_ = NULL;
			GFileInfo* info = NULL;
#line 40 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_tmp2_ = file_to_process;
#line 40 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_tmp3_ = g_file_enumerate_children (_tmp2_, G_FILE_ATTRIBUTE_STANDARD_NAME "," G_FILE_ATTRIBUTE_ACCESS_CAN_READ, G_FILE_QUERY_INFO_NONE, NULL, &_inner_error_);
#line 40 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			files = _tmp3_;
#line 40 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 856 "Utils.c"
				goto __catch2_g_error;
			}
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			while (TRUE) {
#line 861 "Utils.c"
				GFileInfo* _tmp4_ = NULL;
				GFileEnumerator* _tmp5_ = NULL;
				GFileInfo* _tmp6_ = NULL;
				GFileInfo* _tmp7_ = NULL;
				GFileInfo* _tmp8_ = NULL;
				GFile* file = NULL;
				GFile* _tmp9_ = NULL;
				gchar* _tmp10_ = NULL;
				gchar* _tmp11_ = NULL;
				gchar* _tmp12_ = NULL;
				gchar* _tmp13_ = NULL;
				GFileInfo* _tmp14_ = NULL;
				const gchar* _tmp15_ = NULL;
				gchar* _tmp16_ = NULL;
				gchar* _tmp17_ = NULL;
				GFile* _tmp18_ = NULL;
				GFile* _tmp19_ = NULL;
				GFile* _tmp20_ = NULL;
				AudienceFuncOverDir _tmp21_ = NULL;
				void* _tmp21__target = NULL;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp5_ = files;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp6_ = g_file_enumerator_next_file (_tmp5_, NULL, &_inner_error_);
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp4_ = _tmp6_;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_g_object_unref0 (info);
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_g_object_unref0 (files);
#line 894 "Utils.c"
					goto __catch2_g_error;
				}
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp7_ = _tmp4_;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp4_ = NULL;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_g_object_unref0 (info);
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				info = _tmp7_;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp8_ = info;
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (!(_tmp8_ != NULL)) {
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_g_object_unref0 (_tmp4_);
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					break;
#line 913 "Utils.c"
				}
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp9_ = file_to_process;
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp10_ = g_file_get_uri (_tmp9_);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp11_ = _tmp10_;
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp12_ = g_strconcat (_tmp11_, "/", NULL);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp13_ = _tmp12_;
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp14_ = info;
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp15_ = g_file_info_get_name (_tmp14_);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp16_ = g_strconcat (_tmp13_, _tmp15_, NULL);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp17_ = _tmp16_;
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp18_ = g_file_new_for_uri (_tmp17_);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp19_ = _tmp18_;
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_g_free0 (_tmp17_);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_g_free0 (_tmp13_);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_g_free0 (_tmp11_);
#line 43 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				file = _tmp19_;
#line 44 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp20_ = file;
#line 44 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp21_ = func;
#line 44 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp21__target = func_target;
#line 44 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				audience_recurse_over_dir (_tmp20_, _tmp21_, _tmp21__target);
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_g_object_unref0 (file);
#line 42 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_g_object_unref0 (_tmp4_);
#line 957 "Utils.c"
			}
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_g_object_unref0 (info);
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_g_object_unref0 (files);
#line 963 "Utils.c"
		}
		goto __finally2;
		__catch2_g_error:
		{
			GError* e = NULL;
			GError* _tmp22_ = NULL;
			const gchar* _tmp23_ = NULL;
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			e = _inner_error_;
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_inner_error_ = NULL;
#line 47 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_tmp22_ = e;
#line 47 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_tmp23_ = _tmp22_->message;
#line 47 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			g_critical ("Utils.vala:47: %s", _tmp23_);
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_g_error_free0 (e);
#line 983 "Utils.c"
		}
		__finally2:
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			g_clear_error (&_inner_error_);
#line 39 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			return;
#line 994 "Utils.c"
		}
	} else {
		AudienceFuncOverDir _tmp24_ = NULL;
		void* _tmp24__target = NULL;
		GFile* _tmp25_ = NULL;
#line 50 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp24_ = func;
#line 50 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp24__target = func_target;
#line 50 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp25_ = file_to_process;
#line 50 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp24_ (_tmp25_, _tmp24__target);
#line 1008 "Utils.c"
	}
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	GError * _inner_error_ = NULL;
#line 1282 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1282 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1282 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1022 "Utils.c"
	{
		GRegex* regex = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		GRegex* _tmp3_ = NULL;
		GRegex* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		GRegex* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp0_ = old;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp1_ = g_regex_escape_string (_tmp0_, -1);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_new (_tmp2_, 0, 0, &_inner_error_);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_free0 (_tmp2_);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		regex = _tmp4_;
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 1053 "Utils.c"
				goto __catch3_g_regex_error;
			}
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1284 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			return NULL;
#line 1062 "Utils.c"
		}
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp6_ = regex;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp7_ = replacement;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp8_ = g_regex_replace_literal (_tmp6_, self, (gssize) (-1), 0, _tmp7_, 0, &_inner_error_);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = _tmp8_;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 1078 "Utils.c"
				goto __catch3_g_regex_error;
			}
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
			return NULL;
#line 1089 "Utils.c"
		}
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp9_ = _tmp5_;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = NULL;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = _tmp9_;
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_free0 (_tmp5_);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 1103 "Utils.c"
	}
	goto __finally3;
	__catch3_g_regex_error:
	{
		GError* e = NULL;
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		e = _inner_error_;
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_inner_error_ = NULL;
#line 1287 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 1117 "Utils.c"
	}
	__finally3:
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error_);
#line 1283 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return NULL;
#line 1128 "Utils.c"
	}
}


gchar* audience_get_title (const gchar* filename) {
	gchar* result = NULL;
	gchar* title = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
#line 53 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_val_if_fail (filename != NULL, NULL);
#line 54 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = filename;
#line 54 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp1_ = audience_get_basename (_tmp0_);
#line 54 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	title = _tmp1_;
#line 55 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp2_ = title;
#line 55 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp3_ = g_uri_unescape_string (_tmp2_, NULL);
#line 55 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_free0 (title);
#line 55 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	title = _tmp3_;
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp4_ = title;
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp5_ = string_replace (_tmp4_, "_", " ");
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp6_ = _tmp5_;
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp7_ = string_replace (_tmp6_, ".", " ");
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp8_ = _tmp7_;
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp9_ = string_replace (_tmp8_, "  ", " ");
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_free0 (title);
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	title = _tmp9_;
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_free0 (_tmp8_);
#line 56 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_free0 (_tmp6_);
#line 58 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	result = title;
#line 58 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return result;
#line 1186 "Utils.c"
}


static gchar string_get (const gchar* self, glong index) {
	gchar result = '\0';
	glong _tmp0_ = 0L;
	gchar _tmp1_ = '\0';
#line 996 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, '\0');
#line 997 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp0_ = index;
#line 997 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = ((gchar*) self)[_tmp0_];
#line 997 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	result = _tmp1_;
#line 997 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	return result;
#line 1204 "Utils.c"
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp0_ = str;
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = maxlen;
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
#line 1197 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	end = _tmp2_;
#line 1198 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp3_ = end;
#line 1198 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp3_ == NULL) {
#line 1227 "Utils.c"
		glong _tmp4_ = 0L;
#line 1199 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = maxlen;
#line 1199 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = _tmp4_;
#line 1199 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 1235 "Utils.c"
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = end;
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp6_ = str;
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		result = (glong) (_tmp5_ - _tmp6_);
#line 1201 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		return result;
#line 1247 "Utils.c"
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
#line 1208 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp1_ = offset;
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp1_ >= ((glong) 0)) {
#line 1271 "Utils.c"
		glong _tmp2_ = 0L;
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp2_ = len;
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp0_ = _tmp2_ >= ((glong) 0);
#line 1277 "Utils.c"
	} else {
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 1281 "Utils.c"
	}
#line 1210 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 1285 "Utils.c"
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp3_ = offset;
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp4_ = len;
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
#line 1212 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		string_length = _tmp5_;
#line 1297 "Utils.c"
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
#line 1214 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp6_ = strlen (self);
#line 1214 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp7_ = _tmp6_;
#line 1214 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp7_;
#line 1307 "Utils.c"
	}
#line 1217 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp8_ = offset;
#line 1217 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp8_ < ((glong) 0)) {
#line 1313 "Utils.c"
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
#line 1218 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp9_ = string_length;
#line 1218 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp10_ = offset;
#line 1218 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		offset = _tmp9_ + _tmp10_;
#line 1219 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp11_ = offset;
#line 1219 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
#line 1327 "Utils.c"
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
#line 1221 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp12_ = offset;
#line 1221 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp13_ = string_length;
#line 1221 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
#line 1337 "Utils.c"
	}
#line 1223 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp14_ = len;
#line 1223 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	if (_tmp14_ < ((glong) 0)) {
#line 1343 "Utils.c"
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
#line 1224 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp15_ = string_length;
#line 1224 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		_tmp16_ = offset;
#line 1224 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
		len = _tmp15_ - _tmp16_;
#line 1352 "Utils.c"
	}
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp17_ = offset;
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp18_ = len;
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp19_ = string_length;
#line 1226 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp20_ = offset;
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp21_ = len;
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	result = _tmp22_;
#line 1227 "/usr/share/vala-0.28/vapi/glib-2.0.vapi"
	return result;
#line 1372 "Utils.c"
}


gchar* audience_get_extension (const gchar* filename) {
	gchar* result = NULL;
	const gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
#line 61 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_val_if_fail (filename != NULL, NULL);
#line 1382 "Utils.c"
	{
		guint i = 0U;
		const gchar* _tmp0_ = NULL;
		gint _tmp1_ = 0;
		gint _tmp2_ = 0;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp0_ = filename;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp1_ = strlen (_tmp0_);
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp2_ = _tmp1_;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		i = (guint) _tmp2_;
#line 1396 "Utils.c"
		{
			gboolean _tmp3_ = FALSE;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_tmp3_ = TRUE;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			while (TRUE) {
#line 1403 "Utils.c"
				guint _tmp5_ = 0U;
				const gchar* _tmp6_ = NULL;
				guint _tmp7_ = 0U;
				gchar _tmp8_ = '\0';
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (!_tmp3_) {
#line 1410 "Utils.c"
					guint _tmp4_ = 0U;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp4_ = i;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					i = _tmp4_ - 1;
#line 1416 "Utils.c"
				}
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp3_ = FALSE;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp5_ = i;
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (!(_tmp5_ != ((guint) 0))) {
#line 62 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					break;
#line 1426 "Utils.c"
				}
#line 63 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp6_ = filename;
#line 63 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp7_ = i;
#line 63 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp8_ = string_get (_tmp6_, (glong) _tmp7_);
#line 63 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (_tmp8_ == '.') {
#line 1436 "Utils.c"
					const gchar* _tmp9_ = NULL;
					guint _tmp10_ = 0U;
					gchar* _tmp11_ = NULL;
#line 64 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp9_ = filename;
#line 64 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp10_ = i;
#line 64 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp11_ = string_substring (_tmp9_, (glong) (_tmp10_ + 1), (glong) (-1));
#line 64 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					result = _tmp11_;
#line 64 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					return result;
#line 1450 "Utils.c"
				}
			}
		}
	}
#line 67 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp12_ = filename;
#line 67 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp13_ = g_strdup (_tmp12_);
#line 67 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	result = _tmp13_;
#line 67 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return result;
#line 1463 "Utils.c"
}


gchar* audience_get_basename (const gchar* filename) {
	gchar* result = NULL;
	guint end = 0U;
	const gchar* _tmp21_ = NULL;
	guint _tmp22_ = 0U;
	gchar* _tmp23_ = NULL;
#line 70 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_val_if_fail (filename != NULL, NULL);
#line 71 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	end = (guint) 0;
#line 1477 "Utils.c"
	{
		guint start = 0U;
		const gchar* _tmp0_ = NULL;
		gint _tmp1_ = 0;
		gint _tmp2_ = 0;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp0_ = filename;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp1_ = strlen (_tmp0_);
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp2_ = _tmp1_;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		start = (guint) _tmp2_;
#line 1491 "Utils.c"
		{
			gboolean _tmp3_ = FALSE;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			_tmp3_ = TRUE;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			while (TRUE) {
#line 1498 "Utils.c"
				guint _tmp5_ = 0U;
				const gchar* _tmp6_ = NULL;
				guint _tmp7_ = 0U;
				gchar _tmp8_ = '\0';
				gboolean _tmp15_ = FALSE;
				const gchar* _tmp16_ = NULL;
				guint _tmp17_ = 0U;
				gchar _tmp18_ = '\0';
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (!_tmp3_) {
#line 1509 "Utils.c"
					guint _tmp4_ = 0U;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp4_ = start;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					start = _tmp4_ - 1;
#line 1515 "Utils.c"
				}
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp3_ = FALSE;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp5_ = start;
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (!(_tmp5_ != ((guint) 0))) {
#line 72 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					break;
#line 1525 "Utils.c"
				}
#line 73 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp6_ = filename;
#line 73 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp7_ = start;
#line 73 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp8_ = string_get (_tmp6_, (glong) _tmp7_);
#line 73 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (_tmp8_ == '/') {
#line 1535 "Utils.c"
					guint _tmp9_ = 0U;
					const gchar* _tmp10_ = NULL;
					guint _tmp11_ = 0U;
					guint _tmp12_ = 0U;
					guint _tmp13_ = 0U;
					gchar* _tmp14_ = NULL;
#line 74 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp9_ = start;
#line 74 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					start = _tmp9_ + 1;
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp10_ = filename;
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp11_ = start;
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp12_ = end;
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp13_ = start;
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp14_ = string_substring (_tmp10_, (glong) _tmp11_, (glong) (_tmp12_ - _tmp13_));
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					result = _tmp14_;
#line 75 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					return result;
#line 1560 "Utils.c"
				}
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp16_ = filename;
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp17_ = start;
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				_tmp18_ = string_get (_tmp16_, (glong) _tmp17_);
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (_tmp18_ == '.') {
#line 1570 "Utils.c"
					guint _tmp19_ = 0U;
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp19_ = end;
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp15_ = _tmp19_ == ((guint) 0);
#line 1576 "Utils.c"
				} else {
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp15_ = FALSE;
#line 1580 "Utils.c"
				}
#line 78 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
				if (_tmp15_) {
#line 1584 "Utils.c"
					guint _tmp20_ = 0U;
#line 79 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					_tmp20_ = start;
#line 79 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
					end = _tmp20_;
#line 1590 "Utils.c"
				}
			}
		}
	}
#line 82 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp21_ = filename;
#line 82 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp22_ = end;
#line 82 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp23_ = string_substring (_tmp21_, (glong) 0, (glong) _tmp22_);
#line 82 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	result = _tmp23_;
#line 82 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return result;
#line 1605 "Utils.c"
}


gchar* audience_seconds_to_time (gint seconds) {
	gchar* result = NULL;
	gint hours = 0;
	gint _tmp0_ = 0;
	gchar* min = NULL;
	gint _tmp1_ = 0;
	gchar* _tmp2_ = NULL;
	gchar* sec = NULL;
	gint _tmp3_ = 0;
	gchar* _tmp4_ = NULL;
	gint _tmp5_ = 0;
#line 86 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = seconds;
#line 86 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	hours = _tmp0_ / 3600;
#line 87 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp1_ = seconds;
#line 87 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp2_ = audience_normalize_time ((_tmp1_ % 3600) / 60);
#line 87 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	min = _tmp2_;
#line 88 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp3_ = seconds;
#line 88 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp4_ = audience_normalize_time (_tmp3_ % 60);
#line 88 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	sec = _tmp4_;
#line 90 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp5_ = hours;
#line 90 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (_tmp5_ > 0) {
#line 1640 "Utils.c"
		gint _tmp6_ = 0;
		const gchar* _tmp7_ = NULL;
		const gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp6_ = hours;
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp7_ = min;
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp8_ = sec;
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp9_ = g_strdup_printf ("%d:%s:%s", _tmp6_, _tmp7_, _tmp8_);
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		result = _tmp9_;
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_free0 (sec);
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_free0 (min);
#line 91 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		return result;
#line 1661 "Utils.c"
	} else {
		const gchar* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		gchar* _tmp12_ = NULL;
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp10_ = min;
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp11_ = sec;
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp12_ = g_strdup_printf ("%s:%s", _tmp10_, _tmp11_);
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		result = _tmp12_;
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_free0 (sec);
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_free0 (min);
#line 93 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		return result;
#line 1680 "Utils.c"
	}
#line 85 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_free0 (sec);
#line 85 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_free0 (min);
#line 1686 "Utils.c"
}


gchar* audience_normalize_time (gint time) {
	gchar* result = NULL;
	gint _tmp0_ = 0;
#line 98 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = time;
#line 98 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (_tmp0_ < 10) {
#line 1697 "Utils.c"
		gint _tmp1_ = 0;
		gchar* _tmp2_ = NULL;
#line 99 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp1_ = time;
#line 99 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp2_ = g_strdup_printf ("0%d", _tmp1_);
#line 99 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		result = _tmp2_;
#line 99 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		return result;
#line 1708 "Utils.c"
	} else {
		gint _tmp3_ = 0;
		gchar* _tmp4_ = NULL;
#line 101 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp3_ = time;
#line 101 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp4_ = g_strdup_printf ("%d", _tmp3_);
#line 101 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		result = _tmp4_;
#line 101 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		return result;
#line 1720 "Utils.c"
	}
}


static void _g_object_unref0_ (gpointer var) {
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 1728 "Utils.c"
}


static void _g_list_free__g_object_unref0_ (GList* self) {
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_list_free (self);
#line 1737 "Utils.c"
}


gboolean audience_has_dvd (void) {
	gboolean result = FALSE;
	AudienceDiskManager* disk_manager = NULL;
	AudienceDiskManager* _tmp0_ = NULL;
	GList* _tmp1_ = NULL;
	GList* _tmp2_ = NULL;
	guint _tmp3_ = 0U;
	gboolean _tmp4_ = FALSE;
#line 106 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = audience_disk_manager_get_default ();
#line 106 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	disk_manager = _tmp0_;
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp1_ = audience_disk_manager_get_volumes (disk_manager);
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp2_ = _tmp1_;
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp3_ = g_list_length (_tmp2_);
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp4_ = _tmp3_ > ((guint) 0);
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	__g_list_free__g_object_unref0_0 (_tmp2_);
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	result = _tmp4_;
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_object_unref0 (disk_manager);
#line 107 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return result;
#line 1769 "Utils.c"
}


gboolean audience_file_exists (const gchar* uri) {
	gboolean result = FALSE;
	GFile* file = NULL;
	const gchar* _tmp0_ = NULL;
	GFile* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
#line 110 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_val_if_fail (uri != NULL, FALSE);
#line 111 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = uri;
#line 111 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp1_ = g_file_new_for_uri (_tmp0_);
#line 111 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	file = _tmp1_;
#line 112 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp2_ = g_file_query_exists (file, NULL);
#line 112 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	result = _tmp2_;
#line 112 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_g_object_unref0 (file);
#line 112 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	return result;
#line 1795 "Utils.c"
}


void audience_show_notification (const gchar* primary_text, const gchar* secondary_text, GdkPixbuf* pixbuf, gint urgency) {
	gint _tmp0_ = 0;
	gboolean _tmp1_ = FALSE;
	NotifyNotification* _tmp8_ = NULL;
	GdkPixbuf* _tmp17_ = NULL;
	NotifyNotification* _tmp24_ = NULL;
	gint _tmp25_ = 0;
	GError * _inner_error_ = NULL;
#line 122 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (primary_text != NULL);
#line 122 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	g_return_if_fail (secondary_text != NULL);
#line 124 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp0_ = urgency;
#line 124 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (_tmp0_ == (-1)) {
#line 125 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		urgency = (gint) NOTIFY_URGENCY_NORMAL;
#line 1817 "Utils.c"
	}
#line 127 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp1_ = notify_is_initted ();
#line 127 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (!_tmp1_) {
#line 1823 "Utils.c"
		AudienceApp* _tmp2_ = NULL;
		AudienceApp* _tmp3_ = NULL;
		const gchar* _tmp4_ = NULL;
		const gchar* _tmp5_ = NULL;
		gboolean _tmp6_ = FALSE;
		gboolean _tmp7_ = FALSE;
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp2_ = audience_app_get_instance ();
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp3_ = _tmp2_;
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp4_ = g_application_get_application_id ((GApplication*) _tmp3_);
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp5_ = _tmp4_;
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp6_ = notify_init (_tmp5_);
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp7_ = !_tmp6_;
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_object_unref0 (_tmp3_);
#line 128 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		if (_tmp7_) {
#line 129 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			g_warning ("Utils.vala:129: Could not init libnotify");
#line 130 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
			return;
#line 1850 "Utils.c"
		}
	}
#line 134 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp8_ = audience_notification;
#line 134 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (_tmp8_ == NULL) {
#line 1857 "Utils.c"
		const gchar* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		NotifyNotification* _tmp11_ = NULL;
#line 135 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp9_ = primary_text;
#line 135 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp10_ = secondary_text;
#line 135 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp11_ = notify_notification_new (_tmp9_, _tmp10_, "");
#line 135 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_object_unref0 (audience_notification);
#line 135 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		audience_notification = _tmp11_;
#line 1871 "Utils.c"
	} else {
		NotifyNotification* _tmp12_ = NULL;
		NotifyNotification* _tmp13_ = NULL;
		NotifyNotification* _tmp14_ = NULL;
		const gchar* _tmp15_ = NULL;
		const gchar* _tmp16_ = NULL;
#line 137 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp12_ = audience_notification;
#line 137 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		notify_notification_clear_hints (_tmp12_);
#line 138 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp13_ = audience_notification;
#line 138 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		notify_notification_clear_actions (_tmp13_);
#line 139 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp14_ = audience_notification;
#line 139 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp15_ = primary_text;
#line 139 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp16_ = secondary_text;
#line 139 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		notify_notification_update (_tmp14_, _tmp15_, _tmp16_, "");
#line 1894 "Utils.c"
	}
#line 142 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp17_ = pixbuf;
#line 142 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (_tmp17_ != NULL) {
#line 1900 "Utils.c"
		NotifyNotification* _tmp18_ = NULL;
		GdkPixbuf* _tmp19_ = NULL;
#line 143 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp18_ = audience_notification;
#line 143 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp19_ = pixbuf;
#line 143 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		notify_notification_set_image_from_pixbuf (_tmp18_, _tmp19_);
#line 1909 "Utils.c"
	} else {
		NotifyNotification* _tmp20_ = NULL;
		AudienceApp* _tmp21_ = NULL;
		AudienceApp* _tmp22_ = NULL;
		const gchar* _tmp23_ = NULL;
#line 145 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp20_ = audience_notification;
#line 145 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp21_ = audience_app_get_instance ();
#line 145 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp22_ = _tmp21_;
#line 145 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp23_ = ((GraniteApplication*) _tmp22_)->app_icon;
#line 145 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		g_object_set (_tmp20_, "icon-name", _tmp23_, NULL);
#line 145 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_object_unref0 (_tmp22_);
#line 1927 "Utils.c"
	}
#line 147 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp24_ = audience_notification;
#line 147 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	_tmp25_ = urgency;
#line 147 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	notify_notification_set_urgency (_tmp24_, (NotifyUrgency) _tmp25_);
#line 1935 "Utils.c"
	{
		NotifyNotification* _tmp26_ = NULL;
#line 150 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp26_ = audience_notification;
#line 150 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		notify_notification_show (_tmp26_, &_inner_error_);
#line 150 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1944 "Utils.c"
			goto __catch4_g_error;
		}
	}
	goto __finally4;
	__catch4_g_error:
	{
		GError* err = NULL;
		GError* _tmp27_ = NULL;
		const gchar* _tmp28_ = NULL;
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		err = _inner_error_;
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_inner_error_ = NULL;
#line 152 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp27_ = err;
#line 152 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_tmp28_ = _tmp27_->message;
#line 152 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		g_warning ("Utils.vala:152: Could not show notification: %s", _tmp28_);
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		_g_error_free0 (err);
#line 1966 "Utils.c"
	}
	__finally4:
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		g_clear_error (&_inner_error_);
#line 149 "/home/stefano/Package/pantheon/audience-bzr/src/audience/src/Utils.vala"
		return;
#line 1977 "Utils.c"
	}
}



